filesToProcess <- list.files(pattern = t)
return(read_doc(filesToProcess))
}
readpatient(1)
readpatient <- function(x){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- lapply(filesToProcess, read_doc)
return(ls)
}
readpatient(1)
pat1 <- list.files(pattern ="^1\\s")
pat1 <- list.files(pattern ="^1\\s")
docx_doc <- read_doc(pat1[1])
lapply(pat1, read_doc)
pat10 <- list.files(pattern ="^10\\s")
lapply(pat1, read_doc)
docx_doc <- read_doc(pat1[2])
docx_doc
lapply(pat1, read_doc)
readpatient <- function(x){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
for(i in length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
}
return(ls)
}
readpatient(1)
t
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
for(i in length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
}
ls
length(filesToProcess)
filesToProcess[33]
for(i in 1:34){
ls[[i]] <- read_doc(filesToProcess[i])
}
for(i in 34){
ls[[i]] <- read_doc(filesToProcess[i])
}
ls
readpatient <- function(x){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
for(i in length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
}
return(ls)
}
readpatient(1)
length(filesToProcess)
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
for(i in 34){
ls[[i]] <- read_doc(filesToProcess[i])
}
ls
ls[1]
ls[[1]]
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 34){
ls[[i]] <- read_doc(filesToProcess[i])
}
ls
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:34){
ls[[i]] <- read_doc(filesToProcess[i])
}
for(i in c(1:34)){
ls[[i]] <- read_doc(filesToProcess[i])
}
for(i in 34){
ls[[i]] <- read_doc(filesToProcess[i])
}
ls
readpatient <- function(x){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
n <- length(filesToProcess)
ls <- list()
for(i in n){
ls[[i]] <- read_doc(filesToProcess[i])
}
return(ls)
}
readpatient(1)
ls <- list()
readpatient <- function(x){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
n <- length(filesToProcess)
ls <- list()
i <- 1
for(i in n){
ls[[i]] <- read_doc(filesToProcess[i])
}
return(ls)
}
readpatient(1)
readpatient(3)
a<- read_doc(filesToProcess[2])
a
class(a)
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- c()
i <- 1
for(i in 34){
ls[i] <- read_doc(filesToProcess[i])
}
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 34){
ls[[i]] <- as.data.frame(read_doc(filesToProcess[i]))
}
ls
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:34){
ls[[i]] <- read_doc(filesToProcess[i])
}
ls
readpatient <- function(x){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
n <- length(filesToProcess)
ls <- list()
i <- 1
for(i in 1:n){
ls[[i]] <- read_doc(filesToProcess[i])
}
return(ls)
}
readpatient(1)
readpatient <- function(x){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
n <- length(filesToProcess)
ls <- list()
i <- 1
for(i in 1:n){
ls[[i]] <- read_doc(filesToProcess[i])
}
return(ls)
}
readpatient <- function(x){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
n <- length(filesToProcess)
ls <- list()
i <- 1
for(i in 1:n){
ls[[i]] <- read_doc(filesToProcess[i])
}
return(ls)
}
readpatient(2)
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:34){
ls[[i]] <- read_doc(filesToProcess[i])
}
ls
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:34){
ls[[i]] <- read_doc(filesToProcess[i])
}
ls
readpatient <- function(x){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
n <- length(filesToProcess)
ls <- list()
i <- 1
for(i in 1:n){
ls[[i]] <- read_doc(filesToProcess[i])
}
return(ls)
}
readpatient(1)
assign(paste0("pat",1),ls)
rm(ls,pat1)
for(x in 1:37){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
}
assign(paste0("pat",x),ls)
}
for(x in 1:37){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i]) %>% iconv("big5", "utf8")
}
assign(paste0("pat",x),ls)
}
for(x in 1:37){
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
ls[[i]] <- iconv(ls[[i]], "big5", "utf8")
}
assign(paste0("pat",x),ls)
}
x <- 1
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
ls[[i]] <- iconv(ls[[i]], "big5", "utf8")
}
assign(paste0("pat",x),ls)
x <- 2
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
ls[[i]] <- iconv(ls[[i]], "big5", "utf8")
}
assign(paste0("pat",x),ls)
x <- 3
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
ls[[i]] <- iconv(ls[[i]], "big5", "utf8")
}
assign(paste0("pat",x),ls)
x <- 4
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
ls[[i]] <- iconv(ls[[i]], "big5", "utf8")
}
assign(paste0("pat",x),ls)
x <- 5
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
ls[[i]] <- iconv(ls[[i]], "big5", "utf8")
}
assign(paste0("pat",x),ls)
x <- 6
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
ls[[i]] <- iconv(ls[[i]], "big5", "utf8")
}
assign(paste0("pat",x),ls)
x <- 7
t <- paste0("^",x, "\\s" )
filesToProcess <- list.files(pattern = t)
ls <- list()
i <- 1
for(i in 1:length(filesToProcess)){
ls[[i]] <- read_doc(filesToProcess[i])
ls[[i]] <- iconv(ls[[i]], "big5", "utf8")
}
assign(paste0("pat",x),ls)
View(pat2)
pat2[[1]]
getwd()
setwd("C:/GitHub/datacourse/安寧照護data/臺大醫院")
library(rvest
library(rvest)
library(rvest)
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes(".jquery-tablesorter td:nth-child(1)") %>% html_text()
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes(".jquery-tablesorter td:nth-child(1)")
medmean <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("td+ td") %>% html_text()
medmean
medmean <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("td+ td")
medmean
%>% html_text()
medmean <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("td+ td") %>% html_text()
medmean <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("td+ td") %>% html_text() %>% gsub("\n", "",.)
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes(".jquery-tablesorter td:nth-child(1)") %>% html_text()
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes(".jquery-tablesorter td") %>% html_text()
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tr>td") %>% html_text()
medabbr
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tr>td") %>% html_attr()
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tr>td") %>% html_attr(title)
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D")  %>% html_attr("title")
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D")  %>% html_attr("title")
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D")  %>% html_attr("href")
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D")  %>% html_nodes("href")
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tr>td") %>%  html_attr("title")
medabbr
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tr>td") %>%  html_text()
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes(".jquery-tablesorter td") %>%  html_text()
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_node(".jquery-tablesorter td:nth-child(1)")
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes(".jquery-tablesorter td:nth-child(1)")
medabbr
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td")
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)
medabbr
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)%>%rm(.[1:3])
library(dplyr)
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.) %>% filter(-[1:3])
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.) %>% rm(medabbr[1:3])
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.) %>% rm(.,medabbr[1:3])
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.) %>% rm(.,[1:3])
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.) %>% select(c[>2])
medabbr <- medabbr[-1:3]
medabbr <- medabbr[-c(1:3,(length(medabbr)-3):length(medabbr))]
medabbr
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)
medabbr <- medabbr[-c(1:3,(length(medabbr)-2):length(medabbr))]
)
#關鍵字縮寫列表
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.) %>% filter(row_number %in% c(4:(length(medabbr)-3)))
a <- c(1,2,3,4,5,6)
rm(a,1:3)
b <- rm(a[1])
row_number(a)
a <- c(10,11,12)
row_number(a)
a >- filter(row_number()>2)
a %>% filter(row_number>2)
a %>% filter(row_number(a)>2)
filter(a, row_number(a)>2)
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_D") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)
medabbr <- medabbr[-c(1:3,(length(medabbr)-2):length(medabbr))]
10%%3
subset(medabbr, row_number%%2 == 0 )
subset(medabbr, calld[ c(TRUE,FALSE), ]  )
medabbr[which(row_number()%%2==0)]
medabbr[which(row_number()%%2==0)]
medabbr %>% dplyr::filter(row_number() %% 2 == 0)
is.odd <- rep(c(TRUE, FALSE), length = length(medabbr))
dfmedabbr <- data.frame(abbr = medabbr[is.odd], meaning = medabbr[!is.odd])
dfmedabbr
View(dfmedabbr)
LETTERS
help("ls")
lsallabbr <- ls()
for(i in 26){
url <- paste0("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_", LETTER[i])
medabbr <- read_html(url) %>% html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)
medabbr <- medabbr[-c(1:3,(length(medabbr)-2):length(medabbr))]
is.odd <- rep(c(TRUE, FALSE), length = length(medabbr))
dfmedabbr <- data.frame(abbr = medabbr[is.odd], meaning = medabbr[!is.odd])
lsallabbr[i] <- dfmedabbr
}
lsallabbr <- ls()
for(i in 26){
url <- paste0("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_", LETTERS[i])
medabbr <- read_html(url) %>% html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)
medabbr <- medabbr[-c(1:3,(length(medabbr)-2):length(medabbr))]
is.odd <- rep(c(TRUE, FALSE), length = length(medabbr))
dfmedabbr <- data.frame(abbr = medabbr[is.odd], meaning = medabbr[!is.odd])
lsallabbr[i] <- dfmedabbr
}
for(i in 1:26){
url <- paste0("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_", LETTERS[i])
medabbr <- read_html(url) %>% html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)
medabbr <- medabbr[-c(1:3,(length(medabbr)-2):length(medabbr))]
is.odd <- rep(c(TRUE, FALSE), length = length(medabbr))
dfmedabbr <- data.frame(abbr = medabbr[is.odd], meaning = medabbr[!is.odd])
lsallabbr[i] <- dfmedabbr
}
lsallabbr <- ls()
for(i in 1:26){
url <- paste0("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_", LETTERS[i])
medabbr <- read_html(url) %>% html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)
medabbr <- medabbr[-c(1:3,(length(medabbr)-2):length(medabbr))]
is.odd <- rep(c(TRUE, FALSE), length = length(medabbr))
dfmedabbr <- data.frame(abbr = medabbr[is.odd], meaning = medabbr[!is.odd])
lsallabbr[i] <- dfmedabbr
}
lsallabbr <- ls()
lsallabbr
lsallabbr <- c()
lsallabbr <- ls()
for(i in 1){
url <- paste0("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_", LETTERS[i])
medabbr <- read_html(url) %>% html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)
medabbr <- medabbr[-c(1:3,(length(medabbr)-2):length(medabbr))]
is.odd <- rep(c(TRUE, FALSE), length = length(medabbr))
dfmedabbr <- data.frame(abbr = medabbr[is.odd], meaning = medabbr[!is.odd])
lsallabbr[i] <- dfmedabbr
}
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_A") %>%
html_nodes("tbody>tr>td") %>% html_text()%>% gsub("\n", "",.)
head(medabbr)
medabbr
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_A") %>%
html_nodes(".jquery-tablesorter td:nth-child(1)") %>% html_text()%>% gsub("\n", "",.)
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_A") %>%
html_nodes(".jquery-tablesorter td:nth-child") %>% html_text()%>% gsub("\n", "",.)
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_A") %>%
html_nodes(".jquery-tablesorter") %>% html_text()%>% gsub("\n", "",.)
medabbr <- read_html("https://en.wikipedia.org/wiki/List_of_medical_abbreviations:_A") %>%
html_nodes("jquery-tablesorter") %>% html_text()%>% gsub("\n", "",.)
#關鍵字縮寫列表
r <- read.table("C:/GitHub/datacourse/安寧照護data/abbr")
#關鍵字縮寫列表
r <- read.table("C:/GitHub/datacourse/安寧照護data/abbr.csv")
#關鍵字縮寫列表
r <- read.table("C:/GitHub/datacourse/安寧照護data/abbr.xlsx")
View(r)
r <- read.delim("C:/GitHub/datacourse/安寧照護data/abbr.xlsx", sep = ",",header = T, stringsAsFactors = F)
View(r)
