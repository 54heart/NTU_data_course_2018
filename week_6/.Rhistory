geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
count(Var1, sort = TRUE) %>%
ungroup() %>%
top_n(10) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year, )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
count(Var1, sort = TRUE) %>%
top_n(10) %>%
ungroup() %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year, )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
count(Var1, sort = TRUE) %>%
top_n(10) %>%
ungroup() %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year, )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
freqFrame.bio
word_by_year <- freqFrame.bio %>%
group_by(year)
word_by_year <- freqFrame.bio
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10)
View(word_by_year)
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year, )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
?top_n
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(n = 10 ) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year, )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(n = 10 )
addfreqFrame.bio %>%
group_by(year) %>%
top_n(n = 10 ) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year, )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(n = 10 ) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year
addfreqFrame.bio %>%
top_n(n = 10 ) %>%
ggplot(aes(x = reorder(Var1,$Freq), y = Freq )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
x<- addfreqFrame.bio %>%
top_n(n = 10 ) %>%
ggplot(aes(x = reorder(Var1,$Freq), y = Freq )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
x<- addfreqFrame.bio %>%
top_n(n = 10 ) %>%
ggplot(aes(x = reorder(Var1,Freq), y = Freq )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
x
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
ungroup() %>%
top_n(n = 10 ) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
ungroup()
View(word_by_year)
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
ungroup() %>%
top_n(n = 10 )
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
ungroup()
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
ungroup() %>%
top_n(n = 10 )
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(n = 10 ) %>%
ungroup()
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(n = 10 )
word_by_year <- freqFrame.bio %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(n = 10 ) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,n) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,n) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year <- na.omit(freqFrame.bio) %>%
group_by(year) %>%
top_n(10,n) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10, n) %>%
ungroup() %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ungroup() %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq)
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ggplot(aes(x = reorder(Var1, freqFrame.bio$Freq), y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ggplot(aes(x = Var1, y = freqFrame.bio$Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ggplot(aes(x = Var1, y = Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ggplot(aes(x = reorder(Var1,Freq), y = Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
View(word_by_year)
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq)
View(word_by_year)
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ggplot(aes(x = reorder(Var1,Freq), y = Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ungroup() %>%
ggplot(aes(x = reorder(Var1,Freq), y = Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ungroup() %>%
ggplot(aes(x = reorder(Var1,freqFrame.bio$Freq), y = Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ungroup() %>%
ggplot(aes(x = reorder(Var1,$Freq), y = Freq, fill = year )) +
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ungroup() %>%
ggplot(aes(x = reorder(Var1,Freq), y = Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ungroup() %>%
ggplot(aes(x = Var1, y = Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ggplot(aes(x = Var1, y = Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
word_by_year <- freqFrame.bio %>%
group_by(year) %>%
top_n(10,Freq) %>%
ggplot(aes(x = reorder(Var1,Freq), y = Freq, fill = year )) +
geom_bar(stat = "identity") +
facet_wrap(~ year, scales = "free_y") +
labs(x = "NULL", y = "Frequency") +
coord_flip() +
theme(legend.position="none")
word_by_year
knitr::opts_chunk$set(echo = TRUE)
#顯示tfidf後的結果
head(tfidfnn)
setwd("C:/GitHub/datacourse/week_6")
tfidf <- read.csv("Github/datacourse/week_5/show08-17.csv", sep = ",")
tfidf <- read.csv("C:/Github/datacourse/week_5/show08-17.csv", sep = ",")
pcs<-prcomp(tfidf)
tfidf_mt <- as.matrix(tfidf)
pcs<-prcomp(tfidf_mt)
head(tfidf_mt)
tfidf <- read.csv("C:/Github/datacourse/week_5/show08-17.csv", sep = ",", stringsAsFactors = F)
head(tfidf)
str(tfidf)
tfidf_mt <- as.matrix(tfidf)
pcs<-prcomp(tfidf_mt)
str(tfidf_mt)
tfidf_mt[,2:ncol(tfidf_mt)]<- as.numeric(tfidf_mt[,2:ncol(tfidf_mt)])
str(tfidf_mt)
pcs<-prcomp(tfidf_mt)
tfidf <- read.csv("C:/Github/datacourse/week_5/show08-17.csv", sep = ",",header = T, stringsAsFactors = F)
head(tfidf)
tfidf_mt <- data.matrix(tfidf)
pcs<-prcomp(tfidf_mt)
tfidf_mt <- data.matrix(tfidf, rownames.force = NA)
pcs<-prcomp(tfidf_mt)
tfidf_mt
tfidf <- read.csv("C:/Github/datacourse/week_5/show08-17.csv", sep = ",",header = T, stringsAsFactors = F)
head(tfidf)
data.matrix(tfidf[2:ncol(tfidf)], rownames.force = NA)
row.names(tfidf_mt) <- tfidf$X
tfidf_mt
pcs<-prcomp(tfidf_mt)
tfidf_mt <- data.matrix(tfidf[2:ncol(tfidf)], rownames.force = NA) %>% na.omit()
tfidf_mt<- na.omit(tfidf_mt)
pcs<-prcomp(tfidf_mt)
tfidf_mt <- data.matrix(tfidf[2:ncol(tfidf)], rownames.force = NA)
row.names(tfidf_mt) <- tfidf$X
pcs<-prcomp(tfidf_mt, na.action=na.omit, scale=TRUE)
pcs
barplot(pcs)
plot(pcs)
pca<-prcomp(tfidf_mt, na.action=na.omit, scale=TRUE)
plot(pca)
top3.pca.eigenvector <- pca$rotation[, 1:3]
top3.pca.eigenvector
first.pca <- top3.pca.eigenvector[, 1]   #  第一主成份
second.pca <- top3.pca.eigenvector[, 2]  #  第二主成份
third.pca <- top3.pca.eigenvector[, 3]
dotchart(first.pca ,   # 排序後的係數
main="Loading Plot for PC1",                      # 主標題
xlab="Variable Loadings",                         # x軸的標題
col="red")
biplot(pca, choices=1:2)
tfidf <- read.csv("C:/Github/datacourse/week_5/show1980-2017.csv", sep = ",",header = T, stringsAsFactors = F)
head(tfidf)
tfidf_mt <- data.matrix(tfidf[3:ncol(tfidf)], rownames.force = NA)
row.names(tfidf_mt) <- tfidf$X
tfidf_mt
head(tfidf)
tfidf <- read.csv("C:/Github/datacourse/week_5/show1980-2017.csv", sep = ",",header = T, stringsAsFactors = F)
tfidf <- read.csv("C:/Github/datacourse/week_5/show1970-2017.csv", sep = ",",header = T, stringsAsFactors = F)
head(tfidf)
tfidf_mt <- data.matrix(tfidf[3:ncol(tfidf)], rownames.force = NA)
row.names(tfidf_mt) <- tfidf$X
tfidf_mt
pca<-prcomp(tfidf_mt, na.action=na.omit, scale=TRUE)
plot(pca)
top3.pca.eigenvector <- pca$rotation[, 1:3]
top3.pca.eigenvector
first.pca <- top3.pca.eigenvector[, 1]   #  第一主成份
second.pca <- top3.pca.eigenvector[, 2]  #  第二主成份
third.pca <- top3.pca.eigenvector[, 3]
dotchart(first.pca ,   # 排序後的係數
main="Loading Plot for PC1",                      # 主標題
xlab="Variable Loadings",                         # x軸的標題
col="red")
biplot(pca, choices=1:2)
bioterm <- read_html("https://en.wikipedia.org/wiki/Glossary_of_biology#D") %>% html_nodes(".glossary .glossary .glossary a") %>% html_text()
splitBioterm <- unlist(strsplit(bioterm," "))
library(rvest)
bioterm <- read_html("https://en.wikipedia.org/wiki/Glossary_of_biology#D") %>% html_nodes(".glossary .glossary .glossary a") %>% html_text()
splitBioterm <- unlist(strsplit(bioterm," "))
tfidf <- read.csv("C:/Github/datacourse/week_5/show1970-2017.csv", sep = ",",header = T, stringsAsFactors = F)
head(tfidf)
tfidf_mt <- data.matrix(tfidf[3:ncol(tfidf)], rownames.force = NA)
row.names(tfidf_mt) <- tfidf$X
tfidf_mt
which(row.names(tfidf_mt) %in% splitBioterm )
tfidf_bio <- tfidf_mt[which(row.names(tfidf_mt) %in% splitBioterm ),]
pca<-prcomp(tfidf_bio, na.action=na.omit, scale=TRUE)
plot(pca)
top3.pca.eigenvector <- pca$rotation[, 1:3]
top3.pca.eigenvector
first.pca <- top3.pca.eigenvector[, 1]   #  第一主成份
second.pca <- top3.pca.eigenvector[, 2]  #  第二主成份
third.pca <- top3.pca.eigenvector[, 3]
dotchart(first.pca ,   # 排序後的係數
main="Loading Plot for PC1",                      # 主標題
xlab="Variable Loadings",                         # x軸的標題
col="red")
biplot(pca, choices=1:2)
library(devtools)
install_github("ggbiplot", "vqv")
library(ggbiplot)
g <- ggbiplot(pca, obs.scale = 1, var.scale = 1,
groups = ir.species, ellipse = TRUE,
circle = TRUE)
g <- g + scale_color_discrete(name = '')
g <- g + theme(legend.direction = 'horizontal',
legend.position = 'top')
print(g)
install.packages("ggbiplot")
library(ggbiplot)
install_github("ggbiplot", "vqv")
library(devtools)
install.packages("devtools")
library(devtools)
install_github("ggbiplot", "vqv")
library(ggbiplot)
g <- ggbiplot(pca, obs.scale = 1, var.scale = 1,
groups = ir.species, ellipse = TRUE,
circle = TRUE)
g <- g + scale_color_discrete(name = '')
g <- g + theme(legend.direction = 'horizontal',
legend.position = 'top')
print(g)
g <- ggbiplot(pca, obs.scale = 1, var.scale = 1,
groups = colnames(pca), ellipse = TRUE,
circle = TRUE)
g <- g + scale_color_discrete(name = '')
g <- g + theme(legend.direction = 'horizontal',
legend.position = 'top')
print(g)
colnames(pca)
colnames(pca)<-c("1980","1990","2000","2010","2017")
pca
colnames(pca$rotation)<-c("1980","1990","2000","2010","2017")
g <- ggbiplot(pca, obs.scale = 1, var.scale = 1,
groups = colnames(pca$rotation), ellipse = TRUE,
circle = TRUE)
g <- g + scale_color_discrete(name = '')
g <- g + theme(legend.direction = 'horizontal',
legend.position = 'top')
print(g)
install.packages("plotly")
library(plotly)
install.packages("plotly")
library(plotly)
chart_link = api_create(g, filename="ggplot-user-guide/1")
chart_link
library(plotly)
chart_link = api_create(g, filename="C:/Github/datacourse/week_67/ggplot-user-guide/1")
chart_link
getwd()
is.character(user)
library(plotly)
chart_link = api_create(g, filename="C:/Github/datacourse/week_67/ggplot-user-guide/1")
?api_create
